%!TEX encoding = IsoLatin

%
% Chapitre "Fonctionnalites"
%

\chapter{Fonctionnalités}

\section{Image}
\subsection{Importation}

Pour satisfaire ce critère, l'application doit pouvoir importer des fichiers images (.jpg, .png, etc.) pour les utiliser à des fins de rendu graphique. 

L'application permet cette fonctionnalitée grâce à l'utilisation du bouton "Import". Celui-ci ouvre un navigateur de fichier qui permet à l'utilisateur de selectionner facilement le fichier image voulu. Cette image est placée dans le renderer 2D, initialement avec sa taille d'origine et à la position (0,0).

Les figures suivantes demontrent cette fonctionnalitée.

\begin{figure}[H] 
\begin{center}
\includegraphics[width=13cm, height=13cm]{fig/importExplorer.png}
\end{center}
\caption{Le bouton Import et son navigateur.}
\end{figure} 

\begin{figure}[H] 
\begin{center}
\includegraphics[width=13cm, height=13cm]{fig/importedImage.png}
\end{center}
\caption{Une image importée dans le renderer 2D.}
\end{figure}


\subsection{Exportation}

Pour satisfaire ce critère, l'application doit pouvoir exporter des fichiers images (dans notre cas une image .png) et de la sauvegarder sur l'ordinateur utilisé.

L'application permet cette fonctionnalitée grâce à l'utilisation du bouton "Export". Celui-ci ouvre un navigateur de fichier qui permet à l'utilisateur de choisir facilement l'emplacement de sauvegarde ainsi que le nom du fichier sauvegardé. Cette image est celle rendue sur le renderer 2D.

Les figures suivantes demontrent cette fonctionnalitée.

\begin{figure}[H] 
\begin{center}
\includegraphics[width=13cm, height=13cm]{fig/exportExplorer.png}
\end{center}
\caption{Le bouton Export et son navigateur.}
\end{figure}

\begin{figure}[H] 
\begin{center}
\includegraphics[width=13cm, height=13cm]{fig/exportedImage.png}
\end{center}
\caption{Une image exportée à partir de l'application Paint3D+.}
\end{figure}

\section{Dessin vectoriel}

\section{Transformation}

\subsection{Structure de la scène}

Toutes les entités géométriques présentes dans une scène sont organisées dans une ou des structures de données qui permettent de gérer les transformations et le rendu graphique de chaque élément.

Pour le mode 3D de l'application, il est possible de sélectionner chaque Primitive 3D en appuyant sur le bouton ''Select next 3d shape''. Une fois sélectionnée, il est possible de sa couleur de remplissage, sa position en x, y, z, son orientation en x, y, z, de la supprimer et de la transformer en nuage de points.

Cela est possible grâce à une structure vector<Obj3D*> qui contient toutes les classes dérivées de Obj3D comme le cube ou la sphère. Voici un exemple de code le montrant:

\newpage

\begin{figure}[h] 
\begin{center}
\includegraphics[width=16cm, height=7cm]{fig/transformations3d1.png}
\end{center}
\caption{Structure de données stockant les entités 3D.}
\end{figure}

\begin{figure}[h] 
\begin{center}
\includegraphics[width=16cm, height=7cm]{fig/transformations3d2.png}
\end{center}
\caption{Méthode montrant comment on stock une nouvelle entité 3D dans vector<Obj3D*>.}
\end{figure}

\newpage 

\subsection{Transformation interractive}

Il est possible de modifier interractivement la translation, la rotation et le redimensionnement de tous les objets présents dans la scène.

En mode 3D, il est possible de changer la position x, y, z, l'orientation en x, y, z et le redimensionnement grâce aux paramètres glissant de la fenêtres ''3D Settings''.

Voici le images le montrant:

\begin{figure}[H] 
\begin{center}
\includegraphics[width=13cm, height=13cm]{fig/transf3d1.png}
\end{center}
\caption{Image de référence.}
\end{figure}

\begin{figure}[H] 
\begin{center}
\includegraphics[width=13cm, height=13cm]{fig/transf3d2.png}
\end{center}
\caption{Changement de Position.}
\end{figure}

\begin{figure}[H] 
\begin{center}
\includegraphics[width=13cm, height=13cm]{fig/transf3d3.png}
\end{center}
\caption{Changement d'orientation.}
\end{figure}

\begin{figure}[H] 
\begin{center}
\includegraphics[width=13cm, height=13cm]{fig/transf3d4.png}
\end{center}
\caption{Redimensionnement.}
\end{figure}

\newpage 

De plus, pour méthodes s'occupant de faire la rotation aux primitives 3D, les quaternions sont utilisés pour leur côté pratique et éviter tout blocage de cardan:

\begin{figure}[H] 
\begin{center}
\includegraphics[width=14cm, height=10cm]{fig/quaternions.png}
\end{center}
\caption{Exemple de code contenant des quaternions.}
\end{figure}

\subsection{Sélection multiple}

Il est possible de sélectionner une ou des instances d'entités visuelles présentes dans la scène et de modifier les attributs qu'elles ont en commun même si ellessont de différents types.

\section{Géométrie}




\subsection{Particules}

Pour respecter ce critère fonctionnel, l'application doit rendre un nuage de points en une seule commande d'affichage.
\\

Dans l'application Paint3D+,  il y a un bouton nommé ''Cloud Points'' qui permet de transformer un objet 3D sélectionné en  un nuage de points où chaque point est un sommet d'unedes faces qui compose l'objet en 3D.
\\

Donc, pour pouvoir utiliser cette option, il faut créer un objet 3D avec le bouton ''Cube'' ou ''Sphere'' en mode 3D, sélectionner un des objets 3D créé avec le bouton ''Select next 3D Shape'' et appuyer sur le bouton ''Cloud Points'' pour rendre l'objet 3D sélectionné en tant que nuage de points.
\\

Les 2 figures suivantes montrent une sphère rendue sans nuage de points et une sphère rendue avec un nuage de points.

\newpage

\begin{figure}[h] 
\begin{center}
\includegraphics[width=13cm, height=13cm]{fig/cloudpoints1.png}
\end{center}
\caption{Une sphère rendue sans nuage de points.}
\end{figure}
 
 
\begin{figure}[h] 
\begin{center}
\includegraphics[width=13cm, height=13cm]{fig/cloudpoints2.png}
\end{center}
\caption{Une sphère rendue avec un nuage de points.}
\end{figure}

\newpage

\subsection{Primitives 3D}

L'application doit permettre de créer au moins 2 types de primitives géométriques 3D à partir d'un algorithme sans aucune données externes à l'application.
\\

L'application Paint3D+ permet de créer 2 primitives 3D localement sans données externes, soit le cube et la sphère. Ces 2 primitives 3D sont créées par composition à partir de 2 classes d'OpenFrameworks, soit OfSpherePrimitive et OfxBoxPrimitive. 
\\

Pour créer ces 2 primitives 3D, il faut d'abord sélectionner le mode 3D dans le menu. Ensuite, il faut cocher soit Cube ou Sphere, selon la primitive 3D à créer et cliquer gauche sur la souris à l'endroit où l'on veut que la primitive 3D apparaisse. Une fois crée, chaque primitive 3D a une profondeur par défaut de 30 unités. Cela permet de mettre en valeur l'effet de perspective et bien montrer qu'il s'agit d'un objet en 3D. Ensuite, pour modifier une primitive 3D créée, il faut la sélectionner avec l'option ''Select next 3D shape'' et modifier les paramètres modifiables, soit la position en x,y,z l'orientation en x,y,z ou la couleur de sélection ou de remplissage. De plus, lorsqu'une primitive 3D est sélectionnée, il est possible de l'effacer en appuyant sur la touche ''delete''. 
\\

Il est à noter que la rotation est faite à partir de quaternions dans le code.
\\

Les 2 figures suivantes montrent les 2 primitives 3D que l'application peut créer sans données externes.

\newpage

\begin{figure}[h] 
\begin{center}
\includegraphics[width=13cm, height=13cm]{fig/primitives3d1.png}
\end{center}
\caption{Une primitive 3D d'un cube.}
\end{figure}

\begin{figure}[h] 
\begin{center}
\includegraphics[width=13cm, height=13cm]{fig/primitives3d2.png}
\end{center}
\caption{Une primitive 3D d'une sphère.}
\end{figure}

\newpage 

\subsection{Modèle}

L'application permet de créer une ou des instances de modèles 3D à partir d'un maillage géométrique importé à partir d'un fichier externe.
\\

Dans l'application Paint3D+, bla bla bla

\section{Illumination}

\subsection{Lumière ponctuelle}

Possibilité d'avoir au moins une lumière ponctuelle dont la couleur et la position sont prises en compte lors des calculs d'illumination des surfaces présentes dans une scène.
\\

Dans l'application Paint 3D+, bla
\subsection{Matériau}

Toutes les entités visuelles présentes dans la scène ont au moins un matériau par défaut qui permet de bien les distinguer si elles sont visibles du point de vue de la caméra.
\\

Dans l'application Paint 3D+, bla

\subsection{Modèle d'illumination}

Le rendu des entités visuelles est fait à partir d'un modèle d'illumination qui supporte au moins une combinaison de lumière dynamique et de matériau.
\\

Dans l'application Paint 3D+, bla





